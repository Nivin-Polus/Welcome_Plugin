!function(e,t){function n(){if(!t.getElementById("overlay")){const e=t.createElement("div");e.id="overlay",t.body.appendChild(e)}if(!t.getElementById("popupContainer")){const e=t.createElement("div");e.id="popupContainer";const n=t.createElement("h2");n.id="greeting",n.textContent="Hello, ",e.appendChild(n);const o=t.createElement("h3");o.textContent="Hope you are doing Well!",e.appendChild(o);const i=t.createElement("h4");i.id="holidays",e.appendChild(i);const l=t.createElement("button");l.textContent="Close",l.onclick=a,e.appendChild(l);const r=t.createElement("button");r.textContent="Change Background Color",r.onclick=()=>m("background"),e.appendChild(r);const s=t.createElement("button");s.textContent="Change Text Color",s.onclick=()=>m("text"),e.appendChild(s),t.body.appendChild(e)}}function a(){const e=t.getElementById("popupContainer"),n=t.getElementById("overlay");e&&n&&(e.style.display="none",n.style.display="none")}const{timeOnly:o,dateOnly:i}=function(){const e=new Date;return{timeOnly:e.toLocaleTimeString("en-US",{hour12:!1}),dateOnly:e.toLocaleDateString("en-US")}}(),l=function(){const e=parseInt(o.split(":")[0],10);switch(!0){case e>=0&&e<12:return"Good Morning";case e>=12&&e<16:return"Good Afternoon";case e>=16&&e<20:return"Good Evening";default:return"Good Night"}}();function r(e){const n=t.getElementById("popupContainer");"Christmas"===e||"Christmas Eve"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/christmas.jpg')",s=setInterval((()=>{h||function(){if(h)return;const e=t.createElement("div");e.classList.add("snowflake"),e.textContent="â„ï¸",e.style.left=100*Math.random()+"vw",e.style.animationDuration=3*Math.random()+2+"s",e.style.opacity=Math.random(),t.body.appendChild(e),e.addEventListener("animationend",(()=>{e.remove()}))}()}),300),d=setTimeout((()=>{h=!0,clearInterval(s)}),15e3),t.getElementById("holidays").textContent="Merry Christmas! ğŸ„"):"Onam"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/onam.jpg')",C(),function(){let e=t.getElementById("flowerContainer");e||(e=t.createElement("div"),e.id="flowerContainer",t.body.appendChild(e)),e.style.display="block",p=setInterval(b,300),u=setTimeout(f,7e3)}(),function(){const e=t.getElementById("popupContainer"),n=t.createElement("div");n.id="onamImageContainer";const a=t.createElement("img");a.src="./img/onam12.webp",a.alt="Maveli and Kids",a.id="onamImage";const o=t.createElement("div");o.id="speechBubble",o.textContent="Happy Onam!";const i=t.createElement("div");i.className="speechBubbleArrow",o.appendChild(i),n.appendChild(o),n.appendChild(a),e.insertBefore(n,e.firstChild)}(),t.getElementById("holidays").textContent="Happy Onam! ğŸ‰"):"New Year"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/new_year.jpg')",C(),t.getElementById("holidays").textContent="Happy New Year! ğŸ‰"):"Republic Day"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/republic_day.jpg')",C(),t.getElementById("holidays").textContent="Happy Republic Day! ğŸ‡®ğŸ‡³"):"Independence Day"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/independence_day.jpg')",C(),t.getElementById("holidays").textContent="Happy Independence Day! ğŸ‡®ğŸ‡³"):"Gandhi Jayanti"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/gandhi_jayanti.jpg')",t.getElementById("holidays").textContent="Gandhi Jayanti - Tribute to Mahatma Gandhi! ğŸ•Šï¸"):"Diwali"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/diwali.jpg')",C(),t.getElementById("holidays").textContent="Happy Diwali! ğŸª”"):"Holi"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/holi.jpg')",C(),t.getElementById("holidays").textContent="Happy Holi! ğŸ¨"):"Pongal"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/pongal.jpg')",t.getElementById("holidays").textContent="Happy Pongal! ğŸŒ¾"):"Ganesh Chaturthi"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/ganesh_chaturthi.jpg')",t.getElementById("holidays").textContent="Happy Ganesh Chaturthi! ğŸ™ğŸ˜"):"Guru Nanak Jayanti"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/guru_nanak_jayanti.jpg')",t.getElementById("holidays").textContent="Happy Guru Nanak Jayanti! ğŸ™"):"Mahashivratri"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/mahashivratri.jpg')",t.getElementById("holidays").textContent="Happy Mahashivratri! ğŸ•‰ï¸"):"Vasant Panchami"===e?(n.style.backgroundImage="url('https://nivin-polus.github.io/Welcome_Plugin/img/vasant_panchami.jpg')",t.getElementById("holidays").textContent="Happy Vasant Panchami! ğŸŒ¼"):(n.style.backgroundImage="",t.getElementById("holidays").textContent="Welcome!")}let s,d,c="";function m(e){c=e,t.getElementById("colorpicker").click()}let g,y,p,u,h=!1;function C(){t.getElementById("fireworksContainer").style.display="block",g=setInterval(E,500),y=setTimeout(I,1e4)}function I(){const e=t.getElementById("fireworksContainer");clearInterval(g),e.style.display="none",e.innerHTML=""}function E(){t.getElementById("fireworksContainer");const n=Math.random()*e.innerWidth,a=Math.random()*e.innerHeight*.5;for(let e=0;e<30;e++)v(n,a)}function v(e,n){const a=t.getElementById("fireworksContainer"),o=t.createElement("div");o.classList.add("firework");const i=2*Math.random()*Math.PI,l=4*Math.random()+2,r=Math.cos(i)*l,s=Math.sin(i)*l;o.style.left=`${e}px`,o.style.top=`${n}px`,o.style.backgroundColor=function(){const e=["#FF5733","#33FF57","#3357FF","#FF33A1","#FFBD33"];return e[Math.floor(Math.random()*e.length)]}(),a.appendChild(o);let d=0;const c=setInterval((()=>{d+=1,o.style.transform=`translate(${r*d}px, ${s*d}px)`,o.style.opacity=Math.max(1-d/20,0),d>25&&(clearInterval(c),o.remove())}),16)}function f(){const e=t.getElementById("flowerContainer");clearInterval(p),e&&(e.style.display="none",e.innerHTML="")}function b(){const e=t.getElementById("flowerContainer"),n=t.createElement("div");n.classList.add("flower"),n.style.left=100*Math.random()+"vw",n.style.animationDuration=3*Math.random()+2+"s",e.appendChild(n),n.addEventListener("animationend",(()=>{n.remove()}))}e.onload=function(){n(),n(),t.getElementById("popupContainer").style.display="block",t.getElementById("overlay").style.display="block",t.getElementById("greeting").textContent=`Hello, ${l}`,fetch("https://www.googleapis.com/calendar/v3/calendars/en.indian%23holiday@group.v.calendar.google.com/events?key=AIzaSyDK1VxJA97m6HCraScyH1zcHObzPwR57Vk").then((e=>{if(!e.ok)throw new Error("API request failed");return console.log("API request successful"),e.json()})).then((e=>{const n=e.items;if(console.log(n.summary),!n||0===n.length)return void console.log("No holiday data found.");const a=new Date(i);n.forEach((e=>{const n=new Date(e.start.date);if(a.getTime()===n.getTime())console.log("Today is a holiday:",e.summary),t.getElementById("holidays").textContent=`Happy ${e.summary}`,r(e.summary);else{const o=n.getTime()-a.getTime(),i=Math.ceil(o/864e5);i>0&&i<=50&&(r(e.summary),console.log(`Holiday '${e.summary}' is coming up in ${i} days on ${e.start.date}`),t.getElementById("holidays").textContent=`${e.summary} is coming up in ${i} Days`)}}))})).catch((e=>{console.error("Error fetching holiday data:",e)}))}}(window,document);